@font-face {
  font-family: 'PlayfairDisplaySC';
  src: url('PlayfairDisplaySC-Italic.ttf') format('truetype');
  font-weight: normal;
  font-style: italic;
}

@font-face {
  font-family: 'Alexander';
  src: url('Alexander.otf') format('opentype');
  font-weight: normal;
  font-style: normal;
}

:root{
  --bg:#fff7f2; --fg:#2a2a2a; --muted:#6f6f6f;
  --brand:#b86b77; --card:#ffffff;
  --shadow:0 10px 30px rgba(0,0,0,.08); --radius:18px;
}

/* базовые */
*{box-sizing:border-box}
html,body{
  margin:0; padding:0;

  /* 1) Два слоя: полупрозрачная "вуаль" + бумажная текстура плиткой */
  background:
    linear-gradient(rgba(255,255,255,.30), rgba(255,255,255,.30)), /* осветляет текстуру */
    url("paper.jpg");                                               /* сама бумага */

  /* 2) Размер плитки — подберите по вкусу: 360–720px обычно ок */
  background-size:
    auto,                 /* для градиента весь экран */
    720px auto;           /* шаг плитки бумажной текстуры */

  /* 3) Повторяем только бумагу; градиент — сплошной */
  background-repeat:
    no-repeat,
    repeat;

  /* 4) Позиции слоёв */
  background-position:
    center top,
    top left;

  /* Остальное — как было */
  color: var(--fg);
  font-family: "PlayfairDisplaySC",serif;
  font-style: italic;
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
  scroll-behavior:smooth;
  text-align:center;
  
  /* iOS фиксы для плавной прокрутки */
  -webkit-overflow-scrolling:touch;
  -webkit-transform:translateZ(0);
  transform:translateZ(0);
  -webkit-backface-visibility:hidden;
  backface-visibility:hidden;
  -webkit-perspective:1000;
  perspective:1000;
}
img{max-width:100%;display:block}
a{color:var(--brand);text-decoration:none;cursor:pointer}
section{padding:56px 16px} /* компактнее на мобилках */
.container{width:100%;max-width:1080px;margin:0 auto}

.title{
  font-family:"PlayfairDisplaySC",serif;font-weight:normal;
  font-size:clamp(24px,7vw,52px);line-height:1.15;margin:0 0 12px;font-style:italic
}
.subtitle{font-size:clamp(15px,4vw,20px);color:var(--muted);margin:0 0 24px;font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-style:normal}

/* ---------- Обложка ---------- */
.hero{position:relative;min-height:100vh;min-height:100svh;display:grid;place-items:center;padding:0}
.hero__bg{position:absolute;inset:0;overflow:hidden}
.hero__bg img{
  width:100%;height:100%;object-fit:cover;filter:brightness(.6) saturate(1.05);
  opacity:0;transform:scale(1.03);
  transition:opacity 1.6s ease,transform 2.4s ease;will-change:opacity,transform;
  /* iOS фиксы */
  -webkit-transform:scale(1.03);
  transform:scale(1.03);
  -webkit-backface-visibility:hidden;
  backface-visibility:hidden;
  -webkit-perspective:1000;
  perspective:1000;
}
.is-hero-loaded .hero__bg img{
  opacity:1;transform:scale(1);
  -webkit-transform:scale(1);
}
.hero__content{position:relative;color:#faf0e6;padding:20px;z-index: 2;}
.hero__names{font-family:"PlayfairDisplaySC",serif;font-size:clamp(40px,12vw,100px);font-weight:normal;margin:0 0 340px;letter-spacing:0.02em;opacity:0.95;font-style:italic}
.hero__date{font-family:"PlayfairDisplaySC",serif;font-size:clamp(32px,10vw,75px);font-weight:normal;margin:0;letter-spacing:0.08em;opacity:0.85;font-style:italic}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.25) 35%,rgba(0,0,0,.45));pointer-events:none;z-index: 1;}

/* ---------- Приглашение + календарь + таймер ---------- */
#calendar{min-height:100svh;display:flex;align-items:center}
.invite__title{
  font-family:"PlayfairDisplaySC",serif;font-weight:normal;letter-spacing:.12em;
  text-transform:none;font-size:clamp(22px,6.5vw,48px);margin:0 0 12px;font-style:italic
}
.invite__text{font-family:"Alexander",cursive;max-width:760px;margin:0 auto 18px;color:var(--muted);font-size:clamp(14px,5vw,30px);font-style:normal}
.divider{width:100%;max-width:1000px;height:40px;margin:16px auto 20px;color:var(--muted)}
.divider img{width:100%;height:100%;filter:opacity(0.6)}

/* Мини-календарь — пиксельное совпадение заголовков и чисел, центр */
.mini-cal{
  --sz: clamp(32px, 10vw, 46px);
  display:grid;gap:10px;margin:0 auto 28px;width:fit-content;justify-items:center
}
.mini-cal__header{font-weight:700;letter-spacing:.06em;text-transform:uppercase;color:var(--fg);font-style:normal}
.mini-cal__dow-grid,.mini-cal__num-grid{
  display:grid;grid-template-columns:repeat(7,var(--sz));gap:8px;justify-content:center
}
.mini-cal__dow{
  display:flex;align-items:center;justify-content:center;
  width:var(--sz);height:var(--sz);font-size:12px;font-weight:600;
  color:var(--fg);text-transform:uppercase;letter-spacing:.05em;white-space:nowrap;font-style:normal
}
.mini-cal__cell{
  width:var(--sz);height:var(--sz);display:flex;align-items:center;justify-content:center;
  border:1px solid rgba(0,0,0,.08);border-radius:10px;background:transparent;font-weight:600;font-style:normal
}
.mini-cal__cell--empty{border-color:transparent}
.mini-cal__cell--mark{border:2px solid var(--brand);color:var(--brand);position:relative}
.mini-cal__cell--mark::after{
  content:"♥";position:absolute;bottom:5px;right:6px;opacity:.35;font-size:14px;color:var(--brand)
}

/* Таймер — одна строка на мобилках, мягкая типографика */
.countdown__title{font-family:"PlayfairDisplaySC",serif;letter-spacing:.12em;text-transform:uppercase;margin:24px 0 6px;font-style:italic}
.cd-numbers{
  display:flex;gap:clamp(14px,6vw,28px);justify-content:center;align-items:flex-end;flex-wrap:nowrap
}
.cd-box{text-align:center;min-width:72px}
.cd-num{font-size:clamp(34px,12vw,90px);font-weight:500;line-height:1;font-style:normal}
.cd-label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.08em;margin-top:4px;font-style:normal}

/* ---------- План мероприятия (вертикальный) ---------- */
.program-list{display:grid;gap:16px;max-width:720px;margin:28px auto 0;text-align:left;padding:0 2px}
.program-item{
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding:16px;
  border-radius:var(--radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  display:flex;
  align-items:flex-start;
  gap:12px;
  font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-style:normal;
}
.program-icon{flex:0 0 40px;width:clamp(32px,10vw,48px);height:clamp(32px,10vw,48px);color:var(--fg)}
#program .program-icon{color:#faf0e6} /* светлый цвет для параллакса */
.program-icon path,.program-icon rect,.program-icon circle{stroke:currentColor;stroke-width:1.8;stroke-linecap:round;stroke-linejoin:round}
.program-text{font-size:clamp(16px,4.3vw,22px);font-weight:600;line-height:1.35}
.program-time-note{font-size:13px;font-weight:400;color:var(--muted)}
.program-time-note em{font-style:italic}
.program-location{color:var(--muted);font-size:14px;font-weight:400;margin-top:4px;margin-bottom:6px}
.program-note{color:var(--muted);font-size:13px;font-weight:400;margin-top:6px}

/* Локации */
.places{display:grid;gap:24px;max-width:980px;margin:0 auto}

/* Секция с информацией о зале */
.hall-info-section{
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  padding: 20px;
  text-align: center;
  font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-style: normal;
}

.hall-info__title{
  font-family: "Playfair Display", serif;
  font-weight: 700;
  font-size: clamp(20px, 5vw, 28px);
  margin: 0 0 16px;
  color: var(--fg);
}

.hall-info__text{
  font-size: clamp(15px, 4vw, 18px);
  line-height: 1.5;
  color: var(--muted);
  margin: 0 0 20px;
}

.hall-photo{
  width: 100%;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: var(--shadow);
}

.hall-photo img{
  width: 100%;
  height: auto;
  display: block;
  min-height: clamp(200px, 30vh, 300px);
  object-fit: cover;
}

.map{
  width:100%;
  margin:16px auto 0;
  min-height:clamp(220px,38vh,420px);
  border-radius:12px;
  overflow:hidden;
  box-shadow:var(--shadow);
}

/* Кликабельный адрес */
.location__address{
  color: var(--brand);
  text-decoration: underline;
  cursor: pointer;
  transition: color 0.2s ease;
  font-weight: 500;
}
.location__address:hover{
  color: var(--fg);
  text-decoration: none;
}

/* Секция "Как добраться" */
.transport-section{
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  padding: 20px;
  margin-top: 16px;
  text-align: center;
  font-family: Montserrat, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-style: normal;
}
.transport__title{
  font-family: "Playfair Display", serif;
  font-weight: 700;
  font-size: clamp(18px, 4vw, 24px);
  margin: 0 0 12px;
  color: var(--fg);
}
.transport__text{
  font-size: clamp(14px, 3.5vw, 16px);
  line-height: 1.5;
  color: var(--muted);
  margin: 0;
}


/* ---------- Контакты ---------- */
.contacts__grid{display:grid;grid-template-columns:1fr;gap:12px;justify-items:stretch}
.contact{
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius:var(--radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  padding:16px;
  font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-style:normal;
}
.contact h3{font-family:"Playfair Display",serif;font-weight:700}

/* ---------- Тост ---------- */
.toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:var(--fg);color:#fff;padding:6px 10px;border-radius:999px;box-shadow:var(--shadow);opacity:0;pointer-events:none;transition:opacity .25s ease;font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;font-size:13px;font-style:normal}
.toast--show{opacity:1}

/* ---------- Подвал ---------- */
footer{padding:32px 16px;color:var(--muted);text-align:center}


/* ====== Экраны ≥600px (планшет-портрет) ====== */
@media (min-width:600px){
  section{padding:64px 18px}
  .mini-cal{--sz: clamp(36px,7vw,48px)}
  .contacts__grid{grid-template-columns:repeat(2,1fr);gap:16px;justify-items:center}
  .contact{max-width:380px;width:100%}
  .parallax{
    --overscan: 50vh; /* среднее значение для планшетов */
    padding-block: clamp(10vh, 14vh, 18vh);
  }
}

/* ====== Экраны ≥960px (десктоп) ====== */
@media (min-width:960px){
  section{padding:72px 24px}
  .mini-cal{--sz: 46px}
  .cd-numbers{gap:clamp(28px,5vw,72px)}
  .parallax{
    --overscan: 60vh; /* больше для десктопа */
    padding-block: clamp(12vh, 16vh, 20vh);
  }
}
.details-list{
  display:grid;
  gap:16px;
  max-width:720px;
  margin:28px auto 0;
  text-align:left;
}
.details-item{
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  padding:16px;
  border-radius:var(--radius);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  display:flex;
  align-items:flex-start;
  gap:12px;
  font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-style:normal;
}
.details-icon{
  flex:0 0 36px;
  width:36px;
  height:36px;
  color:var(--fg);
}
#details .details-icon{color:#faf0e6} /* светлый цвет для параллакса */
.details-text{
  font-size:clamp(15px,4vw,18px);
  line-height:1.4;
}
.details-note{
  color:var(--muted);
  font-size:14px;
}

/* ===== ПАРАЛЛАКС-РАЗДЕЛИТЕЛИ (процентная высота) ===== */
.parallax{
  /* убираем фиксированную высоту */
  /* --h: clamp(12vh, 16vh, 18vh);  <-- больше не нужно */
  --overscan: 40vh; /* уменьшено для мобильных */
  position: relative;
  overflow: hidden;

  /* делаем «рамку» вокруг контента: фон будет выше и ниже секции */
  padding-block: clamp(8vh, 12vh, 16vh); /* уменьшено для мобильных */
  display: block;
}

.parallax__content{
  position: relative;
  z-index: 3;
  width: 100%;
  color: #faf0e6;            /* чтобы текст читался на фоне */
  /* сохраните отступы секций, если нужно:
     padding: 0 16px;  (обычно не нужно, т.к. .container уже центрирует) */
}

.parallax__img{
  position: absolute;
  top: calc(-1 * var(--overscan));
  bottom: calc(-1 * var(--overscan));
  left: 0; right: 0;
  background-image: var(--img);           /* берёт url(...) из инлайна */
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transform: translate3d(0, var(--shift, 0px), 0); /* параллакс через transform */
  will-change: transform;
  z-index: 1; /* под затемнением и контентом */
}

/* сильное затемнение внутри */
.parallax.parallax--rip::after,
.parallax::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(180deg,
    rgba(0,0,0,.70),
    rgba(0,0,0,.50) 50%,
    rgba(0,0,0,.70));
  pointer-events:none;
  z-index: 2;
}

#program .title,
#details .title {
  color: #faf0e6; /* как на обложке */
  font-family:"PlayfairDisplaySC",serif;
  font-style:italic;
}
#details .details-text,
#details .details-note {
  color: #faf0e6; /* светлый цвет для параллакса */
  font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-style:normal;
}
#program .program-text,
#program .program-time-note,
#program .program-note,
#program .program-location {
  color: #faf0e6; /* светлый цвет для параллакса */
  font-family:Montserrat,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  font-style:normal;
}

/* ====== Мобильные устройства < 600px ====== */
@media (max-width:599px){
  .parallax .parallax__img{
    background-size: 270% auto !important; /* показываем больше изображения на мобильных */
    background-position: center 50% !important; /* смещаем немного вниз */
  }
}

/* ====== Мобильные устройства < 600px ====== */
@media (max-width:399px){
  .parallax .parallax__img{
    background-size: 320% auto !important; /* показываем больше изображения на мобильных */
    background-position: center 50% !important; /* смещаем немного вниз */
  }
}

/* ====== iOS оптимизации для параллакса ====== */
@supports (-webkit-touch-callout: none) {
  .parallax__img {
    /* iOS оптимизации */
    -webkit-transform: translate3d(0, var(--shift, 0px), 0);
    transform: translate3d(0, var(--shift, 0px), 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    /* Плавные переходы для iOS */
    transition: transform 0.1s ease-out;
    -webkit-transition: -webkit-transform 0.1s ease-out;
  }
}

/* ====== iOS Safari/Telegram специфичные фиксы ====== */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari/Telegram */
  .hero {
    min-height: 100vh; /* fallback для iOS */
  }
  
  .hero__bg img {
    -webkit-transform: scale(1.03) translateZ(0);
    transform: scale(1.03) translateZ(0);
  }
  
  .is-hero-loaded .hero__bg img {
    -webkit-transform: scale(1) translateZ(0);
    transform: scale(1) translateZ(0);
  }
}

/* ====== Дополнительные оптимизации для мобильных ====== */
@media (max-width: 768px) {
  .parallax__img {
    /* Плавные переходы для мобильных */
    transition: transform 0.2s ease-out;
    -webkit-transition: -webkit-transform 0.2s ease-out;
    /* Дополнительное сглаживание */
    -webkit-transform: translate3d(0, var(--shift, 0px), 0) translateZ(0);
    transform: translate3d(0, var(--shift, 0px), 0) translateZ(0);
  }
}


